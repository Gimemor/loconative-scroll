!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LoconativeScroll=e()}(this,(function(){"use strict";const t={el:document.querySelector("body"),wrapper:window,name:"scroll",offset:[0,0],repeat:!1,smooth:!0,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!0,class:"is-inview",scrollingClass:"has-scroll-scrolling",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",duration:1.2,easing:t=>1===t?1:1-Math.pow(2,-10*t),scrollToEasing:t=>1===t?1:1-Math.pow(2,-10*t),scrollFromAnywhere:!1,touchMultiplier:3,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"horizontal",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(t,e){return t(e={exports:{}},e.exports),e.exports}var i=e((function(t,e){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var i,s=t.HTMLElement||t.Element,o={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:s.prototype.scroll||l,scrollIntoView:s.prototype.scrollIntoView},n=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,r=(i=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(i)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==h(arguments[0])?f.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):o.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(h(arguments[0])?o.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):f.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},s.prototype.scroll=s.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==h(arguments[0])){var t=arguments[0].left,e=arguments[0].top;f.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},s.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==h(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},s.prototype.scrollIntoView=function(){if(!0!==h(arguments[0])){var i=p(this),s=i.getBoundingClientRect(),n=this.getBoundingClientRect();i!==e.body?(f.call(this,i,i.scrollLeft+n.left-s.left,i.scrollTop+n.top-s.top),"fixed"!==t.getComputedStyle(i).position&&t.scrollBy({left:s.left,top:s.top,behavior:"smooth"})):t.scrollBy({left:n.left,top:n.top,behavior:"smooth"})}else o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(t,e){this.scrollLeft=t,this.scrollTop=e}function h(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function a(t,e){return"Y"===e?t.clientHeight+r<t.scrollHeight:"X"===e?t.clientWidth+r<t.scrollWidth:void 0}function c(e,i){var s=t.getComputedStyle(e,null)["overflow"+i];return"auto"===s||"scroll"===s}function d(t){var e=a(t,"Y")&&c(t,"Y"),i=a(t,"X")&&c(t,"X");return e||i}function p(t){for(;t!==e.body&&!1===d(t);)t=t.parentNode||t.host;return t}function u(e){var i,s,o,r,l=(n()-e.startTime)/468;r=l=l>1?1:l,i=.5*(1-Math.cos(Math.PI*r)),s=e.startX+(e.x-e.startX)*i,o=e.startY+(e.y-e.startY)*i,e.method.call(e.scrollable,s,o),s===e.x&&o===e.y||t.requestAnimationFrame(u.bind(t,e))}function f(i,s,r){var h,a,c,d,p=n();i===e.body?(h=t,a=t.scrollX||t.pageXOffset,c=t.scrollY||t.pageYOffset,d=o.scroll):(h=i,a=i.scrollLeft,c=i.scrollTop,d=l),u({scrollable:h,method:d,startTime:p,startX:a,startY:c,x:s,y:r})}}}}));function s(t){const e={};if(!window.getComputedStyle)return;const i=getComputedStyle(t),s=i.transform||i.webkitTransform||i.mozTransform;let o=s.match(/^matrix3d\((.+)\)$/);return o?(e.x=o?parseFloat(o[1].split(", ")[12]):0,e.y=o?parseFloat(o[1].split(", ")[13]):0):(o=s.match(/^matrix\((.+)\)$/),e.x=o?parseFloat(o[1].split(", ")[4]):0,e.y=o?parseFloat(o[1].split(", ")[5]):0),e}function o(t,e,i){return(1-i)*t+i*e}function n(){}i.polyfill,n.prototype={on:function(t,e,i){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var s=this;function o(){s.off(t,o),e.apply(i,arguments)}return o._=e,this.on(t,o,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),s=0,o=i.length;s<o;s++)i[s].fn.apply(i[s].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),s=i[t],o=[];if(s&&e)for(var n=0,r=s.length;n<r;n++)s[n].fn!==e&&s[n].fn._!==e&&o.push(s[n]);return o.length?i[t]=o:delete i[t],this}};var r=n;n.TinyEmitter=r;var l=e((function(t,e){t.exports=function(){var t=0;function e(e){return"__private_"+t+++"_"+e}function i(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}function s(){}s.prototype={on:function(t,e,i){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var s=this;function o(){s.off(t,o),e.apply(i,arguments)}return o._=e,this.on(t,o,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),s=0,o=i.length;s<o;s++)i[s].fn.apply(i[s].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),s=i[t],o=[];if(s&&e)for(var n=0,r=s.length;n<r;n++)s[n].fn!==e&&s[n].fn._!==e&&o.push(s[n]);return o.length?i[t]=o:delete i[t],this}};var o=s;o.TinyEmitter=s;var n,r="virtualscroll",l=e("options"),h=e("el"),a=e("emitter"),c=e("event"),d=e("touchStart"),p=e("bodyTouchAction");return function(){function t(t){var e=this;Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),this._onWheel=function(t){var s=i(e,l)[l],o=i(e,c)[c];o.deltaX=t.wheelDeltaX||-1*t.deltaX,o.deltaY=t.wheelDeltaY||-1*t.deltaY,n.isFirefox&&1===t.deltaMode&&(o.deltaX*=s.firefoxMultiplier,o.deltaY*=s.firefoxMultiplier),o.deltaX*=s.mouseMultiplier,o.deltaY*=s.mouseMultiplier,e._notify(t)},this._onMouseWheel=function(t){var s=i(e,c)[c];s.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,s.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,e._notify(t)},this._onTouchStart=function(t){var s=t.targetTouches?t.targetTouches[0]:t;i(e,d)[d].x=s.pageX,i(e,d)[d].y=s.pageY},this._onTouchMove=function(t){var s=i(e,l)[l];s.preventTouch&&!t.target.classList.contains(s.unpreventTouchClass)&&t.preventDefault();var o=i(e,c)[c],n=t.targetTouches?t.targetTouches[0]:t;o.deltaX=(n.pageX-i(e,d)[d].x)*s.touchMultiplier,o.deltaY=(n.pageY-i(e,d)[d].y)*s.touchMultiplier,i(e,d)[d].x=n.pageX,i(e,d)[d].y=n.pageY,e._notify(t)},this._onKeyDown=function(t){var s=i(e,c)[c];s.deltaX=s.deltaY=0;var o=window.innerHeight-40;switch(t.keyCode){case 37:case 38:s.deltaY=i(e,l)[l].keyStep;break;case 39:case 40:s.deltaY=-i(e,l)[l].keyStep;break;case 32:s.deltaY=o*(t.shiftKey?1:-1);break;default:return}e._notify(t)},i(this,h)[h]=window,t&&t.el&&(i(this,h)[h]=t.el,delete t.el),n||(n={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in document,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}),i(this,l)[l]=Object.assign({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",useKeyboard:!0,useTouch:!0},t),i(this,a)[a]=new o,i(this,c)[c]={y:0,x:0,deltaX:0,deltaY:0},i(this,d)[d]={x:null,y:null},i(this,p)[p]=null,void 0!==i(this,l)[l].passive&&(this.listenerOptions={passive:i(this,l)[l].passive})}var e=t.prototype;return e._notify=function(t){var e=i(this,c)[c];e.x+=e.deltaX,e.y+=e.deltaY,i(this,a)[a].emit(r,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},e._bind=function(){n.hasWheelEvent&&i(this,h)[h].addEventListener("wheel",this._onWheel,this.listenerOptions),n.hasMouseWheelEvent&&i(this,h)[h].addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),n.hasTouch&&i(this,l)[l].useTouch&&(i(this,h)[h].addEventListener("touchstart",this._onTouchStart,this.listenerOptions),i(this,h)[h].addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),n.hasPointer&&n.hasTouchWin&&(i(this,p)[p]=document.body.style.msTouchAction,document.body.style.msTouchAction="none",i(this,h)[h].addEventListener("MSPointerDown",this._onTouchStart,!0),i(this,h)[h].addEventListener("MSPointerMove",this._onTouchMove,!0)),n.hasKeyDown&&i(this,l)[l].useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},e._unbind=function(){n.hasWheelEvent&&i(this,h)[h].removeEventListener("wheel",this._onWheel),n.hasMouseWheelEvent&&i(this,h)[h].removeEventListener("mousewheel",this._onMouseWheel),n.hasTouch&&(i(this,h)[h].removeEventListener("touchstart",this._onTouchStart),i(this,h)[h].removeEventListener("touchmove",this._onTouchMove)),n.hasPointer&&n.hasTouchWin&&(document.body.style.msTouchAction=i(this,p)[p],i(this,h)[h].removeEventListener("MSPointerDown",this._onTouchStart,!0),i(this,h)[h].removeEventListener("MSPointerMove",this._onTouchMove,!0)),n.hasKeyDown&&i(this,l)[l].useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},e.on=function(t,e){i(this,a)[a].on(r,t,e);var s=i(this,a)[a].e;s&&s[r]&&1===s[r].length&&this._bind()},e.off=function(t,e){i(this,a)[a].off(r,t,e);var s=i(this,a)[a].e;(!s[r]||s[r].length<=0)&&this._unbind()},e.destroy=function(){i(this,a)[a].off(),this._unbind()},t}()}()}));function h(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function a(t,e,i){return e&&h(t.prototype,e),i&&h(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(){return(c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){var i=t%e;return(e>0&&i<0||e<0&&i>0)&&(i+=e),i}var u=["duration","easing"],f=function(){function t(){}var e=t.prototype;return e.to=function(t,e){var i=this,s=void 0===e?{}:e,o=s.duration,n=void 0===o?1:o,r=s.easing,l=void 0===r?function(t){return t}:r,h=function(t,e){if(null==t)return{};var i,s,o={},n=Object.keys(t);for(s=0;s<n.length;s++)e.indexOf(i=n[s])>=0||(o[i]=t[i]);return o}(s,u);this.target=t,this.fromKeys=c({},h),this.toKeys=c({},h),this.keys=Object.keys(c({},h)),this.keys.forEach((function(e){i.fromKeys[e]=t[e]})),this.duration=n,this.easing=l,this.currentTime=0,this.isRunning=!0},e.stop=function(){this.isRunning=!1},e.raf=function(t){var e=this;if(this.isRunning){this.currentTime=Math.min(this.currentTime+t,this.duration);var i=this.progress>=1?1:this.easing(this.progress);this.keys.forEach((function(t){var s=e.fromKeys[t];e.target[t]=s+(e.toKeys[t]-s)*i})),1===i&&this.stop()}},a(t,[{key:"progress",get:function(){return this.currentTime/this.duration}}]),t}(),m=function(t){var e,i;function s(e){var i,s,o,n,r=void 0===e?{}:e,h=r.duration,a=void 0===h?1.2:h,c=r.easing,d=void 0===c?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:c,p=r.smooth,u=void 0===p||p,m=r.mouseMultiplier,v=void 0===m?1:m,w=r.smoothTouch,g=void 0!==w&&w,y=r.touchMultiplier,b=void 0===y?2:y,T=r.direction,E=void 0===T?"vertical":T,x=r.gestureDirection,S=void 0===x?"vertical":x,M=r.infinite,O=void 0!==M&&M,k=r.wrapper,W=void 0===k?window:k,z=r.content,L=void 0===z?document.body:z;(n=t.call(this)||this).onWindowResize=function(){n.wrapperWidth=window.innerWidth,n.wrapperHeight=window.innerHeight},n.onWrapperResize=function(t){var e=t[0];if(e){var i=e.contentRect;n.wrapperWidth=i.width,n.wrapperHeight=i.height}},n.onContentResize=function(t){var e=t[0];if(e){var i=e.contentRect;n.contentWidth=i.width,n.contentHeight=i.height}},n.onVirtualScroll=function(t){var e=t.deltaY,i=t.deltaX,s=t.originalEvent;if(!("vertical"===n.gestureDirection&&0===e||"horizontal"===n.gestureDirection&&0===i)){var o=!!s.composedPath().find((function(t){return t.hasAttribute&&t.hasAttribute("data-lenis-prevent")}));s.ctrlKey||o||(n.smooth=s.changedTouches?n.smoothTouch:n.options.smooth,n.stopped?s.preventDefault():n.smooth&&4!==s.buttons&&(n.smooth&&s.preventDefault(),n.targetScroll-="both"===n.gestureDirection?i+e:"horizontal"===n.gestureDirection?i:e,n.scrollTo(n.targetScroll)))}},n.onScroll=function(t){n.isScrolling&&n.smooth||(n.targetScroll=n.scroll=n.lastScroll=n.wrapperNode[n.scrollProperty],n.notify())},window.lenisVersion="0.2.28",n.options={duration:a,easing:d,smooth:u,mouseMultiplier:v,smoothTouch:g,touchMultiplier:b,direction:E,gestureDirection:S,infinite:O,wrapper:W,content:L},n.duration=a,n.easing=d,n.smooth=u,n.mouseMultiplier=v,n.smoothTouch=g,n.touchMultiplier=b,n.direction=E,n.gestureDirection=S,n.infinite=O,n.wrapperNode=W,n.contentNode=L,n.wrapperNode.addEventListener("scroll",n.onScroll),n.wrapperNode===window?(n.wrapperNode.addEventListener("resize",n.onWindowResize),n.onWindowResize()):(n.wrapperHeight=n.wrapperNode.offsetHeight,n.wrapperWidth=n.wrapperNode.offsetWidth,n.wrapperObserver=new ResizeObserver(n.onWrapperResize),n.wrapperObserver.observe(n.wrapperNode)),n.contentHeight=n.contentNode.offsetHeight,n.contentWidth=n.contentNode.offsetWidth,n.contentObserver=new ResizeObserver(n.onContentResize),n.contentObserver.observe(n.contentNode),n.targetScroll=n.scroll=n.lastScroll=n.wrapperNode[n.scrollProperty],n.animate=new f;var P=(null==(i=navigator)||null==(s=i.userAgentData)?void 0:s.platform)||(null==(o=navigator)?void 0:o.platform)||"unknown";return n.virtualScroll=new l({el:n.wrapperNode,firefoxMultiplier:50,mouseMultiplier:n.mouseMultiplier*(P.includes("Win")||P.includes("Linux")?.84:.4),touchMultiplier:n.touchMultiplier,passive:!1,useKeyboard:!1,useTouch:!0}),n.virtualScroll.on(n.onVirtualScroll),n}i=t,(e=s).prototype=Object.create(i.prototype),e.prototype.constructor=e,d(e,i);var o=s.prototype;return o.start=function(){var t=this.wrapperNode;this.wrapperNode===window&&(t=document.documentElement),t.classList.remove("lenis-stopped"),this.stopped=!1},o.stop=function(){var t=this.wrapperNode;this.wrapperNode===window&&(t=document.documentElement),t.classList.add("lenis-stopped"),this.stopped=!0,this.animate.stop()},o.destroy=function(){var t;this.wrapperNode===window&&this.wrapperNode.removeEventListener("resize",this.onWindowResize),this.wrapperNode.removeEventListener("scroll",this.onScroll),this.virtualScroll.destroy(),null==(t=this.wrapperObserver)||t.disconnect(),this.contentObserver.disconnect()},o.raf=function(t){var e=t-(this.now||0);this.now=t,!this.stopped&&this.smooth&&(this.lastScroll=this.scroll,this.animate.raf(.001*e),this.scroll===this.targetScroll&&(this.lastScroll=this.scroll),this.isScrolling&&(this.setScroll(this.scroll),this.notify()),this.isScrolling=this.scroll!==this.targetScroll)},o.setScroll=function(t){var e=this.infinite?p(t,this.limit):t;"horizontal"===this.direction?this.wrapperNode.scrollTo(e,0):this.wrapperNode.scrollTo(0,e)},o.notify=function(){var t=this.infinite?p(this.scroll,this.limit):this.scroll;this.emit("scroll",{scroll:t,limit:this.limit,velocity:this.velocity,direction:0===this.velocity?0:this.velocity>0?1:-1,progress:t/this.limit})},o.scrollTo=function(t,e){var i=void 0===e?{}:e,s=i.offset,o=void 0===s?0:s,n=i.immediate,r=void 0!==n&&n,l=i.duration,h=void 0===l?this.duration:l,a=i.easing,c=void 0===a?this.easing:a;if(null!=t&&!this.stopped){var d;if("number"==typeof t)d=t;else if("top"===t||"#top"===t)d=0;else if("bottom"===t)d=this.limit;else{var p;if("string"==typeof t)p=document.querySelector(t);else{if(null==t||!t.nodeType)return;p=t}if(!p)return;var u=0;if(this.wrapperNode!==window){var f=this.wrapperNode.getBoundingClientRect();u="horizontal"===this.direction?f.left:f.top}var m=p.getBoundingClientRect();d=("horizontal"===this.direction?m.left:m.top)+this.scroll-u}d+=o,this.targetScroll=this.infinite?d:Math.max(0,Math.min(d,this.limit)),!this.smooth||r?(this.animate.stop(),this.scroll=this.lastScroll=this.targetScroll,this.setScroll(this.targetScroll)):this.animate.to(this,{duration:h,easing:c,scroll:this.targetScroll})}},a(s,[{key:"scrollProperty",get:function(){return this.wrapperNode===window?"horizontal"===this.direction?"scrollX":"scrollY":"horizontal"===this.direction?"scrollLeft":"scrollTop"}},{key:"limit",get:function(){return"horizontal"===this.direction?this.contentWidth-this.wrapperWidth:this.contentHeight-this.wrapperHeight}},{key:"velocity",get:function(){return this.scroll-this.lastScroll}}]),s}(r);class v extends class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this,t,e),this.smartphone=t.smartphone,e.smartphone&&Object.assign(this.smartphone,e.smartphone),this.tablet=t.tablet,e.tablet&&Object.assign(this.tablet,e.tablet),this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.isMobile&&(this.smooth=this.smartphone.smooth),this.isTablet&&(this.smooth=this.tablet.smooth),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.onScroll=this.onScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},delta:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),this.isMobile&&(this.gestureDirection=this[this.context].gestureDirection),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.instance.direction=null,this.instance.speed=0,this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}init(){this.initEvents()}onScroll(){this.dispatchScroll()}checkResize(){this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(()=>{this.resize(),this.resizeTick=!1}))}resize(){}checkContext(){if(!this.reloadOnContextChange)return;this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;let t=this.context;if(this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",t!=this.context){("desktop"==t?this.smooth:this[t].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}initEvents(){this.scrollToEls=this.el.querySelectorAll(`[data-${this.name}-to]`),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(t=>{t.addEventListener("click",this.setScrollTo,!1)})}setScrollTo(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute(`data-${this.name}-href`)||t.currentTarget.getAttribute("href"),{offset:t.currentTarget.getAttribute(`data-${this.name}-offset`)})}addElements(){}detectElements(t){const e=this.instance.scroll.y,i=e+this.windowHeight,s=this.instance.scroll.x,o=s+this.windowWidth;Object.entries(this.els).forEach(n=>{let[r,l]=n;if(!l||l.inView&&!t||("horizontal"===this.direction?o>=l.left&&s<l.right&&this.setInView(l,r):i>=l.top&&e<l.bottom&&this.setInView(l,r)),l&&l.inView)if("horizontal"===this.direction){let t=l.right-l.left;l.progress=(this.instance.scroll.x-(l.left-this.windowWidth))/(t+this.windowWidth),(o<l.left||s>l.right)&&this.setOutOfView(l,r)}else{let t=l.bottom-l.top;l.progress=(this.instance.scroll.y-(l.top-this.windowHeight))/(t+this.windowHeight),(i<l.top||e>l.bottom)&&this.setOutOfView(l,r)}}),this.hasScrollTicking=!1}setInView(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),this.currentElements[e]=t,t.call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1))}setOutOfView(t,e){this.els[e].inView=!1,Object.keys(this.currentElements).forEach(t=>{t===e&&delete this.currentElements[t]}),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}dispatchCall(t,e){this.callWay=e,this.callValue=t.call.split(",").map(t=>t.trim()),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);const i=new Event(this.namespace+"call");this.el.dispatchEvent(i)}dispatchScroll(){const t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}setEvents(t,e){this.listeners[t]||(this.listeners[t]=[]);const i=this.listeners[t];i.push(e),1===i.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}unsetEvents(t,e){if(!this.listeners[t])return;const i=this.listeners[t],s=i.indexOf(e);s<0||(i.splice(s,1),0===i.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1))}checkEvent(t){const e=t.type.replace(this.namespace,""),i=this.listeners[e];i&&0!==i.length&&i.forEach(t=>{switch(e){case"scroll":return t(this.instance);case"call":return t(this.callValue,this.callWay,this.callObj);default:return t()}})}startScroll(){this.stop=!1}stopScroll(){this.stop=!0}setScroll(t,e){this.instance.scroll={x:0,y:0}}destroy(){window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach(t=>{this.el.removeEventListener(this.namespace+t,this.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(t=>{t.removeEventListener("click",this.setScrollTo,!1)}),this.html.classList.remove(this.initClass)}}{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=i,window.smoothscrollPolyfill.polyfill())}init(){this.smooth&&(this.html.classList.add(this.smoothClass),this.html.setAttribute(`data-${this.name}-direction`,this.direction)),this.addElements(),this.detectElements(),this.transformElements(!0,!0),this.initContainerSize(),this.lenis=new m({wrapper:this.wrapper,content:this.el,duration:this.duration,easing:this.easing,direction:this.direction,gestureDirection:this.gestureDirection,smooth:this.smooth,smoothTouch:this.smooth,touchMultiplier:this.touchMultiplier}),this.bindOnScroll=this.onScroll.bind(this),this.lenis.on("scroll",this.bindOnScroll),this.lenis.on("scroll",t=>{}),this.raf(0),super.init()}raf(t){this.lenis.raf(t),this.rafInstance=requestAnimationFrame(()=>this.raf(Date.now()))}onScroll(t){let{scroll:e,velocity:i}=t;e>this.instance.scroll[this.directionAxis]?"down"!==this.instance.direction&&(this.instance.direction="down"):e<this.instance.scroll[this.directionAxis]&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.scroll[this.directionAxis]=e,this.instance.speed=i,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame(()=>{this.detectElements()}),this.hasScrollTicking=!0)),super.onScroll(),this.transformElements()}resize(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.checkContext(),this.initContainerSize(),Object.entries(this.els).length&&this.update()}initContainerSize(){if("horizontal"===this.direction){let t=0;for(let e=0;e<this.el.children.length;e++){t+=this.el.children[e].getBoundingClientRect().width}this.el.style.setProperty("--scrollContainerWidth",t+"px")}}addElements(){this.els={},this.parallaxElements={};this.el.querySelectorAll("[data-"+this.name+"]").forEach((t,e)=>{t.getBoundingClientRect();let i,o,n=t.dataset[this.name+"Class"]||this.class,r="string"==typeof t.dataset[this.name+"Id"]?t.dataset[this.name+"Id"]:e,l="string"==typeof t.dataset[this.name+"Offset"]?t.dataset[this.name+"Offset"].split(","):this.offset,h=t.dataset[this.name+"Repeat"],a=t.dataset[this.name+"Call"],c=t.dataset[this.name+"Position"],d=t.dataset[this.name+"Delay"],p=t.dataset[this.name+"Direction"],u="string"==typeof t.dataset[this.name+"Sticky"];u&&console.warn("You use data-scroll-sticky, it's not recommended for performances. Please adapt your code and play with position:sticky.");let f,m=t.dataset[this.name+"Target"];f=void 0!==m?document.querySelector(""+m):t;const v=f.getBoundingClientRect();i=v.top+this.instance.scroll.y-s(f).y,o=v.left+this.instance.scroll.x-s(f).x;let w=i+f.offsetHeight,g=o+f.offsetWidth,y={x:(g-o)/2+o,y:(w-i)/2+i};if(u){const e=t.getBoundingClientRect(),s=e.top,n=e.left,r={x:n-o,y:s-i};i+=window.innerHeight,o+=window.innerWidth,w=s+f.offsetHeight-t.offsetHeight-r[this.directionAxis],g=n+f.offsetWidth-t.offsetWidth-r[this.directionAxis],y={x:(g-o)/2+o,y:(w-i)/2+i}}h="false"!=h&&(null!=h||this.repeat);let b=!!t.dataset[this.name+"Speed"]&&parseFloat(t.dataset[this.name+"Speed"])/10;b&&(l=0);let T=[0,0];if(l)if("horizontal"===this.direction){for(var E=0;E<l.length;E++)"string"==typeof l[E]?l[E].includes("%")?T[E]=parseInt(l[E].replace("%","")*this.windowWidth/100):T[E]=parseInt(l[E]):T[E]=l[E];o+=T[0],g-=T[1]}else{for(E=0;E<l.length;E++)"string"==typeof l[E]?l[E].includes("%")?T[E]=parseInt(l[E].replace("%","")*this.windowHeight/100):T[E]=parseInt(l[E]):T[E]=l[E];i+=T[0],w-=T[1]}const x={el:t,targetEl:f,id:r,class:n,top:i,bottom:w,middle:y,left:o,right:g,position:c,delay:d,direction:p,offset:l,progress:0,repeat:h,inView:!1,call:a,speed:b,sticky:u};this.els[r]=x,t.classList.contains(n)&&this.setInView(this.els[r],r),(!1!==b||u)&&(this.parallaxElements[r]=x)})}updateElements(){Object.entries(this.els).forEach(t=>{let[e,i]=t;const s=i.targetEl.getBoundingClientRect().top+this.instance.scroll.y,o=s+i.targetEl.offsetHeight,n=this.getRelativeOffset(i.offset);this.els[e].top=s+n[0],this.els[e].bottom=o-n[1]}),this.hasScrollTicking=!1}transform(t,e,i,n){let r;if(n){let l=s(t);r=`matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,${o(l.x,e,n)},${o(l.y,i,n)},0,1)`}else r=`matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,${e},${i},0,1)`;t.style.webkitTransform=r,t.style.msTransform=r,t.style.transform=r}transformElements(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.smooth)return;const i=this.instance.scroll.x+this.windowWidth,s=this.instance.scroll.y+this.windowHeight,o={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(n=>{let[r,l]=n,h=!1;if(t&&(h=0),l.inView||e)switch(l.position){case"top":h=this.instance.scroll[this.directionAxis]*-l.speed;break;case"elementTop":h=(s-l.top)*-l.speed;break;case"bottom":h=(this.instance.limit[this.directionAxis]-s+this.windowHeight)*l.speed;break;case"left":h=this.instance.scroll[this.directionAxis]*-l.speed;break;case"elementLeft":h=(i-l.left)*-l.speed;break;case"right":h=(this.instance.limit[this.directionAxis]-i+this.windowHeight)*l.speed;break;default:h=(o[this.directionAxis]-l.middle[this.directionAxis])*-l.speed}l.sticky&&(h=l.inView?"horizontal"===this.direction?this.instance.scroll.x-l.left+this.windowWidth:this.instance.scroll.y-l.top+this.windowHeight:"horizontal"===this.direction?this.instance.scroll.x<l.left-this.windowWidth&&this.instance.scroll.x<l.left-this.windowWidth/2?0:this.instance.scroll.x>l.right&&this.instance.scroll.x>l.right+100&&l.right-l.left+this.windowWidth:this.instance.scroll.y<l.top-this.windowHeight&&this.instance.scroll.y<l.top-this.windowHeight/2?0:this.instance.scroll.y>l.bottom&&this.instance.scroll.y>l.bottom+100&&l.bottom-l.top+this.windowHeight),!1!==h&&("horizontal"===l.direction||"horizontal"===this.direction&&"vertical"!==l.direction?this.transform(l.el,h,0,!t&&l.delay):this.transform(l.el,0,h,!t&&l.delay))})}getRelativeOffset(t){let e=[0,0];if(t)for(var i=0;i<t.length;i++)"string"==typeof t[i]?t[i].includes("%")?e[i]=parseInt(t[i].replace("%","")*this.windowHeight/100):e[i]=parseInt(t[i]):e[i]=t[i];return e}scrollTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=parseInt(e.offset)||0,s=e.duration||1,o=this.scrollToEasing;this.lenis.scrollTo(t,{offset:i,immediate:e.immediate,duration:s,easing:o})}update(){this.addElements(),this.detectElements(),this.transformElements(!0)}startScroll(){null!=this.lenis&&this.lenis.start()}stopScroll(){null!=this.lenis&&this.lenis.stop()}destroy(){super.destroy(),cancelAnimationFrame(this.rafInstance)}}return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,Object.assign(this,t,e),this.smartphone=t.smartphone,e.smartphone&&Object.assign(this.smartphone,e.smartphone),this.tablet=t.tablet,e.tablet&&Object.assign(this.tablet,e.tablet),this.smooth||"horizontal"!=this.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}init(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.smooth=!0:this.smooth=!1,this.scroll=new v(this.options),this.scroll.init(),window.location.hash){const t=window.location.hash.slice(1,window.location.hash.length);let e=document.getElementById(t);e&&this.scroll.scrollTo(e)}}update(){this.scroll.update()}start(){this.scroll.startScroll()}stop(){this.scroll.stopScroll()}scrollTo(t,e){this.scroll.scrollTo(t,e)}setScroll(t,e){this.scroll.setScroll(t,e)}on(t,e){this.scroll.setEvents(t,e)}off(t,e){this.scroll.unsetEvents(t,e)}destroy(){this.scroll.destroy()}}}));